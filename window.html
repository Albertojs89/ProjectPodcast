<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Principal</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=BenchNine:wght@300;400;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <script
      src="https://kit.fontawesome.com/fe9b416b1c.js"
      crossorigin="anonymous"
    ></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Sofia+Sans+Extra+Condensed:ital,wght@0,1..1000;1,1..1000&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header>
      <!-- menu1 -->
      <div class="contenido">
        <div>
          <img class="icono" src="imagenes/nomad.JPG" alt="" />
        </div>
        <div>
          <div>
            <a href="podcast.rss"
              ><img class="iconorss" src="imagenes/rss.png" alt=""
            /></a>
          </div>
          <div class="menu1">
            <ul>
              <li><a href="index.html">BLOG</a></li>
              <li><a href="nosotros.html">NOSOTROS</a></li>
              <li><a href="formulario.html">CONTACTO</a></li>
            </ul>
          </div>
        </div>
      </div>
    </header>
    <main>
      <div class="submenu">
        <a href="">Todas las entradas</a>
        <a href=""><span class="material-symbols-outlined">search</span></a>
      </div>
      <div id="post-ampliado" class="post-ampliado"></div>

      <!-- <i class="fa-regular fa-comment"></i> -->
      <div class="icon-container">
        <button class="fixed-button">
          <i class="fa-solid fa-comment-dots"></i>
        </button>
      </div>
      <!-- blogs -->
      <!-- SUBMENU1 + buscador -->
    </main>
    <footer>
      <script>
        // Obtener el ID del post desde la URL
        const urlParams = new URLSearchParams(window.location.search);
        const postId = parseInt(urlParams.get("id"));

        // Realizar la solicitud para obtener el contenido del archivo XML
        fetch("xmlpodcast.xml")
          .then((Response) => Response.text()) // Convertir la respuesta a texto
          .then((data) => {
            // Parsear el XML
            const parser = new DOMParser();
            const xml = parser.parseFromString(data, "application/xml");

            // Obtener el post específico según el ID
            const post = xml.querySelectorAll("post")[postId];
            if (!post) {
              throw new Error("Post no encontrado");
            }

            // Obtener los datos del post
            const titulo = post.getAttribute("titulo");
            const nombre = post.querySelector("nombre").textContent;
            const foto = post.querySelector("imagen").textContent;
            const introduccion = post.querySelector("introduccion").textContent;
            const descripcion = post.querySelector("descripcion").textContent;
            const num_visualizaciones = post.querySelector(
              "num_visualizaciones"
            ).textContent;
            const num_comentarios =
              post.querySelector("num_comentarios").textContent;
            const num_megusta = post.querySelector("num_megusta").textContent;

            // Crear la estructura HTML para el contenido ampliado
            const postAmpliado = `
      <div class="box-ampliado">
        <div class="foto-ampliado">
          <img src="imagenes/${foto}" alt="" />
        </div>
        <div class="texto">
          <div class="usuario">
            <div class="menuusuario">
              <div class="usu">
                <div class="avatar">
                  <span class="material-symbols-outlined">
                    account_circle
                  </span>
                </div>
                <div class="nombre">
                  <span>${nombre}</span>
                  <i class="fa-solid fa-crown"></i>
                  <p>20 ene 2023 - 1 min.</p>
                </div>
              </div>
              <div class="puntos-ampliado">
                <a href="#">
                  <span class="material-symbols-outlined">
                    more_vert
                  </span>
                </a>
              </div>
            </div>
          </div>
          <h1>${titulo}</h1>
          <p>${introduccion}</p>
          <p>${descripcion}</p>
          <div class="comentarios">
            <div class="coments">
              <span>${num_visualizaciones} views</span>
              <span>${num_comentarios} coments</span>
            </div>
            <div class="likes">
              <span>${num_megusta} </span>
              <span class="material-symbols-outlined"> favorite </span>
            </div>
          </div>
        </div>
      </div>
    `;

            // Mostrar el contenido ampliado en la página
            document.querySelector("#post-ampliado").innerHTML = postAmpliado;
          })
          .catch((error) => {
            console.error("Error al cargar el post ampliado:", error);
            // Manejar el error aquí
          });
      </script>
    </footer>
  </body>
</html>
